#include "types.h"
#include "constants.h"
#include "qdldl.h"

#include "qdldl_interface.h"
// Define data structure
c_int Pdata_i[12] = {
0,
1,
2,
3,
0,
4,
1,
5,
2,
6,
3,
7,
};
c_int Pdata_p[9] = {
0,
1,
2,
3,
4,
6,
8,
10,
12,
};
c_float Pdata_x[12] = {
(c_float)0.03601229420853535600,
(c_float)0.58204999895748633000,
(c_float)0.98305698173554412000,
(c_float)1.00000000000000000000,
(c_float)0.00578592359742128010,
(c_float)0.03061269913154670100,
(c_float)0.20252079814849566000,
(c_float)0.42992431350472254000,
(c_float)0.51385405268916751000,
(c_float)0.67263698341890410000,
(c_float)0.43252027870121756000,
(c_float)1.00000000000000000000,
};
csc Pdata = {24, 8, 8, Pdata_p, Pdata_i, Pdata_x, -1};
c_int Adata_i[18] = {
0,
3,
6,
9,
1,
4,
7,
10,
2,
5,
8,
11,
3,
9,
4,
10,
5,
11,
};
c_int Adata_p[9] = {
0,
4,
8,
12,
12,
14,
16,
18,
18,
};
c_float Adata_x[18] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
};
csc Adata = {18, 12, 8, Adata_p, Adata_i, Adata_x, -1};
c_float qdata[8] = {
(c_float)-0.00035531016204166639,
(c_float)-0.00000000000002265230,
(c_float)-0.00000000000000011102,
(c_float)-0.00111853529146927400,
(c_float)0.00016308387638394302,
(c_float)0.00000000000020913411,
(c_float)0.00000000000000000000,
(c_float)-0.00174191318363245660,
};
c_float ldata[12] = {
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
};
c_float udata[12] = {
(c_float)27.06690563641954800000,
(c_float)0.18863546000505638000,
(c_float)0.30471882000000011000,
(c_float)27.06690563641954800000,
(c_float)0.18863546000505638000,
(c_float)0.30471882000000011000,
(c_float)13.25219436358045800000,
(c_float)0.18863545999494369000,
(c_float)0.30471881999999989000,
(c_float)13.25219436358045800000,
(c_float)0.18863545999494369000,
(c_float)0.30471881999999989000,
};
OSQPData data = {8, 12, &Pdata, &Adata, qdata, ldata, udata};

// Define settings structure
OSQPSettings settings = {(c_float)0.11692441344080368000, (c_float)0.00000100000000000000, 10, 4000, (c_float)0.00100000000000000000, (c_float)0.00100000000000000000, (c_float)0.00010000000000000000, (c_float)0.00010000000000000000, (c_float)1.60000000000000010000, (enum linsys_solver_type) LINSYS_SOLVER, 0, 25, 1, 
#ifdef PROFILING
(c_float)0.00000000000000000000, 
#endif  // PROFILING
};

// Define scaling structure
c_float Dscaling[8] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.12951566180261360000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.38612568838855640000,
};
c_float Dinvscaling[8] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)0.88533522271314291000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)0.72143529867233924000,
};
c_float Escaling[12] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
};
c_float Einvscaling[12] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
};
OSQPScaling scaling = {(c_float)1.00000000000000000000, Dscaling, Escaling, (c_float)1.00000000000000000000, Dinvscaling, Einvscaling};

// Define linsys_solver structure
c_int linsys_solver_L_i[22] = {
3,
3,
3,
5,
4,
5,
5,
9,
9,
9,
11,
10,
11,
11,
15,
15,
15,
17,
16,
17,
17,
19,
};
c_int linsys_solver_L_p[21] = {
0,
1,
2,
4,
6,
7,
7,
8,
9,
11,
13,
14,
14,
15,
16,
18,
20,
21,
21,
22,
22,
};
c_float linsys_solver_L_x[22] = {
(c_float)0.11692441344080368000,
(c_float)-0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)2.58540541286602380000,
(c_float)0.31725596959324093000,
(c_float)-0.06129895452906847900,
(c_float)0.11692441344080368000,
(c_float)-0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)1.07201330957261540000,
(c_float)0.34244951850296917000,
(c_float)-0.06832014772653906300,
(c_float)0.11692441344080368000,
(c_float)-0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.74972004213329912000,
(c_float)0.47290725820373974000,
(c_float)-0.05666290662145794700,
(c_float)0.43251984618137140000,
};
csc linsys_solver_L = {0, 20, 20, linsys_solver_L_p, linsys_solver_L_i, linsys_solver_L_x, -1};
c_float linsys_solver_Dinv[20] = {
(c_float)-0.11692441344080368000,
(c_float)-0.11692441344080368000,
(c_float)-0.11692441344080368000,
(c_float)2.58540541286602380000,
(c_float)-0.08978321566949232200,
(c_float)6.64632797739639970000,
(c_float)-0.11692441344080368000,
(c_float)-0.11692441344080368000,
(c_float)-0.11692441344080368000,
(c_float)1.07201330957261540000,
(c_float)-0.10390099262188368000,
(c_float)2.07305523740166690000,
(c_float)-0.11692441344080368000,
(c_float)-0.11692441344080368000,
(c_float)-0.11692441344080368000,
(c_float)0.74972004213329912000,
(c_float)-0.10750082884533464000,
(c_float)1.91890960966913690000,
(c_float)0.99999900000100006000,
(c_float)1.23012215534864990000,
};
c_int linsys_solver_P[20] = {
14,
8,
17,
0,
11,
4,
15,
9,
18,
1,
12,
5,
16,
10,
19,
2,
13,
6,
3,
7,
};
c_float linsys_solver_bp[20];
qdldl_solver linsys_solver = {QDLDL_SOLVER, &solve_linsys_qdldl, &linsys_solver_L, linsys_solver_Dinv, linsys_solver_P, linsys_solver_bp};

// Define solution
c_float xsolution[8];
c_float ysolution[12];

OSQPSolution solution = {xsolution, ysolution};

// Define info
OSQPInfo info = {0, "Unsolved", OSQP_UNSOLVED, (c_float)0.0, (c_float)0.0, (c_float)0.0};

// Define workspace
c_float work_rho_vec[12] = {
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
(c_float)0.11692441344080368000,
};
c_float work_rho_inv_vec[12] = {
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
(c_float)8.55253381712518570000,
};
c_float work_x[8];
c_float work_y[12];
c_float work_z[12];
c_float work_xz_tilde[20];
c_float work_x_prev[8];
c_float work_z_prev[12];
c_float work_Ax[12];
c_float work_Px[8];
c_float work_Aty[8];
c_float work_delta_y[12];
c_float work_Atdelta_y[8];
c_float work_delta_x[8];
c_float work_Pdelta_x[8];
c_float work_Adelta_x[12];
c_float work_D_temp[8];
c_float work_D_temp_A[8];
c_float work_E_temp[12];

OSQPWorkspace workspace = {
&data, (LinSysSolver *)&linsys_solver,
work_rho_vec, work_rho_inv_vec,
work_x, work_y, work_z, work_xz_tilde,
work_x_prev, work_z_prev,
work_Ax, work_Px, work_Aty,
work_delta_y, work_Atdelta_y,
work_delta_x, work_Pdelta_x, work_Adelta_x,
work_D_temp, work_D_temp_A, work_E_temp,
&settings, &scaling, &solution, &info};

