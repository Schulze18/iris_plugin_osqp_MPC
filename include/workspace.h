#include "types.h"
#include "constants.h"
#include "qdldl.h"

#include "qdldl_interface.h"
// Define data structure
c_int Pdata_i[12] = {
0,
1,
2,
3,
0,
4,
1,
5,
2,
6,
3,
7,
};
c_int Pdata_p[9] = {
0,
1,
2,
3,
4,
6,
8,
10,
12,
};
c_float Pdata_x[12] = {
(c_float)0.00370016320819261140,
(c_float)0.05952549988532349100,
(c_float)0.09773958421008333000,
(c_float)0.07888184565765303500,
(c_float)0.00057780340328286977,
(c_float)0.00316068615116213640,
(c_float)0.02177728779633452200,
(c_float)0.04329167448551948800,
(c_float)0.05005769716353842400,
(c_float)0.06761842437505261000,
(c_float)0.02662559272074843300,
(c_float)0.05354688901704473400,
};
csc Pdata = {24, 8, 8, Pdata_p, Pdata_i, Pdata_x, -1};
c_int Adata_i[24] = {
0,
4,
8,
12,
1,
5,
9,
13,
2,
6,
10,
14,
3,
7,
11,
15,
4,
12,
5,
13,
6,
14,
7,
15,
};
c_int Adata_p[9] = {
0,
4,
8,
12,
16,
18,
20,
22,
24,
};
c_float Adata_x[24] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
};
csc Adata = {24, 16, 8, Adata_p, Adata_i, Adata_x, -1};
c_float qdata[8] = {
(c_float)0.00000000000000000000,
(c_float)0.00000000000000000000,
(c_float)0.00000000000000000000,
(c_float)0.00000000000000000000,
(c_float)0.00000000000000000000,
(c_float)0.00000000000000000000,
(c_float)0.00000000000000000000,
(c_float)0.00000000000000000000,
};
c_float ldata[16] = {
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
};
c_float udata[16] = {
(c_float)26.87940000000000400000,
(c_float)0.20000000000000001000,
(c_float)0.14999999999999999000,
(c_float)0.10000000000000001000,
(c_float)26.87940000000000400000,
(c_float)0.20000000000000001000,
(c_float)0.14999999999999999000,
(c_float)0.10000000000000001000,
(c_float)13.43970000000000200000,
(c_float)0.20000000000000001000,
(c_float)0.14999999999999999000,
(c_float)0.10000000000000001000,
(c_float)13.43970000000000200000,
(c_float)0.20000000000000001000,
(c_float)0.14999999999999999000,
(c_float)0.10000000000000001000,
};
OSQPData data = {8, 16, &Pdata, &Adata, qdata, ldata, udata};

// Define settings structure
OSQPSettings settings = {(c_float)0.10000000000000001000, (c_float)0.00000100000000000000, 10, 4000, (c_float)0.00100000000000000000, (c_float)0.00100000000000000000, (c_float)0.00010000000000000000, (c_float)0.00010000000000000000, (c_float)1.60000000000000010000, (enum linsys_solver_type) LINSYS_SOLVER, 0, 25, 1, 
#ifdef PROFILING
(c_float)0.00000000000000000000, 
#endif  // PROFILING
};

// Define scaling structure
c_float Dscaling[8] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
};
c_float Dinvscaling[8] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
};
c_float Escaling[16] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
};
c_float Einvscaling[16] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
};
OSQPScaling scaling = {(c_float)1.00000000000000000000, Dscaling, Escaling, (c_float)1.00000000000000000000, Dinvscaling, Einvscaling};

// Define linsys_solver structure
c_int linsys_solver_L_i[28] = {
3,
3,
3,
5,
4,
5,
5,
9,
9,
9,
11,
10,
11,
11,
15,
15,
15,
17,
16,
17,
17,
21,
21,
21,
23,
22,
23,
23,
};
c_int linsys_solver_L_p[25] = {
0,
1,
2,
4,
6,
7,
7,
8,
9,
11,
13,
14,
14,
15,
16,
18,
20,
21,
21,
22,
23,
25,
27,
28,
28,
};
c_float linsys_solver_L_x[28] = {
(c_float)0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)3.29271047050446080000,
(c_float)0.33117358636632871000,
(c_float)-0.05031527731817731600,
(c_float)0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)2.78143613980879150000,
(c_float)0.33871574928462095000,
(c_float)-0.05173786759812984400,
(c_float)0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)2.51420156679763980000,
(c_float)0.37727529731861403000,
(c_float)-0.04976144098026864100,
(c_float)0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)2.63933828480471620000,
(c_float)0.33420777470396074000,
(c_float)-0.05267619319094173100,
};
csc linsys_solver_L = {6250648800, 24, 24, linsys_solver_L_p, linsys_solver_L_i, linsys_solver_L_x, -1};
c_float linsys_solver_Dinv[24] = {
(c_float)-0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)3.29271047050446080000,
(c_float)-0.07522920191626274200,
(c_float)9.66135400950934380000,
(c_float)-0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)2.78143613980879150000,
(c_float)-0.07823846937555170600,
(c_float)7.33900644240229120000,
(c_float)-0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)2.51420156679763980000,
(c_float)-0.07990921311777289500,
(c_float)7.04254907994171830000,
(c_float)-0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)-0.10000000000000001000,
(c_float)2.63933828480471620000,
(c_float)-0.07911806595146056400,
(c_float)6.83526852902523800000,
};
c_int linsys_solver_P[24] = {
16,
8,
20,
0,
12,
4,
17,
9,
21,
1,
13,
5,
18,
10,
22,
2,
14,
6,
19,
11,
23,
3,
15,
7,
};
c_float linsys_solver_bp[24];
qdldl_solver linsys_solver = {QDLDL_SOLVER, &solve_linsys_qdldl, &linsys_solver_L, linsys_solver_Dinv, linsys_solver_P, linsys_solver_bp};

// Define solution
c_float xsolution[8];
c_float ysolution[16];

OSQPSolution solution = {xsolution, ysolution};

// Define info
OSQPInfo info = {0, "Unsolved", OSQP_UNSOLVED, (c_float)0.0, (c_float)0.0, (c_float)0.0};

// Define workspace
c_float work_rho_vec[16] = {
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
(c_float)0.10000000000000001000,
};
c_float work_rho_inv_vec[16] = {
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
(c_float)10.00000000000000000000,
};
c_float work_x[8];
c_float work_y[16];
c_float work_z[16];
c_float work_xz_tilde[24];
c_float work_x_prev[8];
c_float work_z_prev[16];
c_float work_Ax[16];
c_float work_Px[8];
c_float work_Aty[8];
c_float work_delta_y[16];
c_float work_Atdelta_y[8];
c_float work_delta_x[8];
c_float work_Pdelta_x[8];
c_float work_Adelta_x[16];
c_float work_D_temp[8];
c_float work_D_temp_A[8];
c_float work_E_temp[16];

OSQPWorkspace workspace = {
&data, (LinSysSolver *)&linsys_solver,
work_rho_vec, work_rho_inv_vec,
work_x, work_y, work_z, work_xz_tilde,
work_x_prev, work_z_prev,
work_Ax, work_Px, work_Aty,
work_delta_y, work_Atdelta_y,
work_delta_x, work_Pdelta_x, work_Adelta_x,
work_D_temp, work_D_temp_A, work_E_temp,
&settings, &scaling, &solution, &info};

