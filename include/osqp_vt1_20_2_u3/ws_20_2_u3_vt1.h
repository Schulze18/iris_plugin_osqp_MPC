#include "types.h"
#include "constants.h"
#include "qdldl.h"

#include "qdldl_interface.h"
// Define data structure
c_int Pdata_i[12] = {
0,
1,
2,
3,
0,
4,
1,
5,
2,
6,
3,
7,
};
c_int Pdata_p[9] = {
0,
1,
2,
3,
4,
6,
8,
10,
12,
};
c_float Pdata_x[12] = {
(c_float)0.06387737759070807900,
(c_float)1.00000000000000000000,
(c_float)1.00000000000000020000,
(c_float)1.00000000000000000000,
(c_float)0.03046763279876391800,
(c_float)0.05248385635888966300,
(c_float)0.91975007787058316000,
(c_float)1.00000000000000020000,
(c_float)0.97800640459574084000,
(c_float)1.00000000000000000000,
(c_float)0.75156245356081519000,
(c_float)1.00000000000000000000,
};
csc Pdata = {24, 8, 8, Pdata_p, Pdata_i, Pdata_x, -1};
c_int Adata_i[18] = {
0,
3,
6,
9,
1,
4,
7,
10,
2,
5,
8,
11,
3,
9,
4,
10,
5,
11,
};
c_int Adata_p[9] = {
0,
4,
8,
12,
12,
14,
16,
18,
18,
};
c_float Adata_x[18] = {
(c_float)1.00000000000000000000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)0.99859560507152678000,
(c_float)0.88134425470110012000,
(c_float)-0.99859560507152678000,
(c_float)-0.88134425470110012000,
(c_float)0.99731720299157522000,
(c_float)0.88035501184802933000,
(c_float)-0.99731720299157522000,
(c_float)-0.88035501184802933000,
(c_float)1.00000000000000000000,
(c_float)-1.00000000000000000000,
(c_float)0.99888031041633218000,
(c_float)-0.99888031041633218000,
(c_float)0.99771818384925437000,
(c_float)-0.99771818384925437000,
};
csc Adata = {18, 12, 8, Adata_p, Adata_i, Adata_x, -1};
c_float qdata[8] = {
(c_float)0.00000000000001239639,
(c_float)-0.00000000000000001047,
(c_float)0.00000000000000044894,
(c_float)-0.00000000154672493325,
(c_float)0.00000000000002792667,
(c_float)-0.00000000000000001072,
(c_float)0.00000000000000076318,
(c_float)-0.00000000198412719464,
};
c_float ldata[12] = {
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-205063645295984740000.00000000000000000000,
(c_float)-394619373353316380000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-180985841227225370000.00000000000000000000,
(c_float)-348339667722402070000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-205063645295984740000.00000000000000000000,
(c_float)-394619373353316380000.00000000000000000000,
(c_float)-100000000000000000000.00000000000000000000,
(c_float)-180985841227225370000.00000000000000000000,
(c_float)-348339667722402070000.00000000000000000000,
};
c_float udata[12] = {
(c_float)26.87940000000505900000,
(c_float)0.38682275059684923000,
(c_float)1.20247949797362110000,
(c_float)26.87940000000505900000,
(c_float)0.34140347413384625000,
(c_float)1.06145652507562540000,
(c_float)13.43969999999494800000,
(c_float)0.38682275059684923000,
(c_float)1.20247949797361930000,
(c_float)13.43969999999494800000,
(c_float)0.34140347413384625000,
(c_float)1.06145652507562380000,
};
OSQPData data = {8, 12, &Pdata, &Adata, qdata, ldata, udata};

// Define settings structure
OSQPSettings settings = {(c_float)0.04554957610801867200, (c_float)0.00000100000000000000, 10, 4000, (c_float)0.00100000000000000000, (c_float)0.00100000000000000000, (c_float)0.00010000000000000000, (c_float)0.00010000000000000000, (c_float)1.60000000000000010000, (enum linsys_solver_type) LINSYS_SOLVER, 0, 25, 1, 
#ifdef PROFILING
(c_float)0.00000000000000000000, 
#endif  // PROFILING
};

// Define scaling structure
c_float Dscaling[8] = {
(c_float)1.00000000000000000000,
(c_float)0.48696862070806074000,
(c_float)0.25272890038742285000,
(c_float)0.76366415946870470000,
(c_float)1.00000000000000000000,
(c_float)0.55191074817960528000,
(c_float)0.28642106435157805000,
(c_float)0.89402149986869006000,
};
c_float Dinvscaling[8] = {
(c_float)1.00000000000000000000,
(c_float)2.05352040660439840000,
(c_float)3.95680904901276340000,
(c_float)1.30947614550317320000,
(c_float)1.00000000000000000000,
(c_float)1.81188716345595700000,
(c_float)3.49136332645043620000,
(c_float)1.11854133278324470000,
};
c_float Escaling[12] = {
(c_float)1.00000000000000000000,
(c_float)2.05063645295984730000,
(c_float)3.94619373353316400000,
(c_float)1.00000000000000000000,
(c_float)1.80985841227225360000,
(c_float)3.48339667722402080000,
(c_float)1.00000000000000000000,
(c_float)2.05063645295984730000,
(c_float)3.94619373353316400000,
(c_float)1.00000000000000000000,
(c_float)1.80985841227225360000,
(c_float)3.48339667722402080000,
};
c_float Einvscaling[12] = {
(c_float)1.00000000000000000000,
(c_float)0.48765347878051235000,
(c_float)0.25340874460936952000,
(c_float)1.00000000000000000000,
(c_float)0.55252940960420938000,
(c_float)0.28707611927703774000,
(c_float)1.00000000000000000000,
(c_float)0.48765347878051235000,
(c_float)0.25340874460936952000,
(c_float)1.00000000000000000000,
(c_float)0.55252940960420938000,
(c_float)0.28707611927703774000,
};
OSQPScaling scaling = {(c_float)1.00000000000000000000, Dscaling, Escaling, (c_float)1.00000000000000000000, Dinvscaling, Einvscaling};

// Define linsys_solver structure
c_int linsys_solver_L_i[22] = {
3,
3,
3,
5,
4,
5,
5,
9,
9,
9,
11,
10,
11,
11,
15,
15,
15,
17,
16,
17,
17,
19,
};
c_int linsys_solver_L_p[21] = {
0,
1,
2,
4,
6,
7,
7,
8,
9,
11,
13,
14,
14,
15,
16,
18,
20,
21,
21,
22,
22,
};
c_float linsys_solver_L_x[22] = {
(c_float)0.04554957610801867200,
(c_float)-0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)4.98685699092001760000,
(c_float)0.37908694966701623000,
(c_float)-0.02304717774698189800,
(c_float)0.04548560651433846600,
(c_float)-0.04548560651433846600,
(c_float)0.04014485720687275400,
(c_float)0.04549857472211003800,
(c_float)0.78256436861936285000,
(c_float)0.85227128186086965000,
(c_float)-0.01094055795454585600,
(c_float)0.04542737584150106200,
(c_float)-0.04542737584150106200,
(c_float)0.04009979761424749300,
(c_float)0.04544564034959577800,
(c_float)0.78190249105443344000,
(c_float)0.90416731953516105000,
(c_float)-0.00890936831964794610,
(c_float)0.75156170199911321000,
};
csc linsys_solver_L = {6647947796039158784, 20, 20, linsys_solver_L_p, linsys_solver_L_i, linsys_solver_L_x, -1};
c_float linsys_solver_Dinv[20] = {
(c_float)-0.04554957610801867200,
(c_float)-0.04554957610801867200,
(c_float)-0.04554957610801867200,
(c_float)4.98685699092001760000,
(c_float)-0.03711820477057477900,
(c_float)11.97209151410984700000,
(c_float)-0.04554957610801867200,
(c_float)-0.04554957610801867200,
(c_float)-0.04554957610801867200,
(c_float)0.88792133657779659000,
(c_float)-0.04416217994089417100,
(c_float)4.34581525580311380000,
(c_float)-0.04554957610801867200,
(c_float)-0.04554957610801867200,
(c_float)-0.04554957610801867200,
(c_float)0.88816725131498286000,
(c_float)-0.04416482632919856800,
(c_float)7.89361902330852860000,
(c_float)0.99999900000100006000,
(c_float)2.29802939507551910000,
};
c_int linsys_solver_P[20] = {
14,
8,
17,
0,
11,
4,
15,
9,
18,
1,
12,
5,
16,
10,
19,
2,
13,
6,
3,
7,
};
c_float linsys_solver_bp[20];
qdldl_solver linsys_solver = {QDLDL_SOLVER, &solve_linsys_qdldl, &linsys_solver_L, linsys_solver_Dinv, linsys_solver_P, linsys_solver_bp};

// Define solution
c_float xsolution[8];
c_float ysolution[12];

OSQPSolution solution = {xsolution, ysolution};

// Define info
OSQPInfo info = {0, "Unsolved", OSQP_UNSOLVED, (c_float)0.0, (c_float)0.0, (c_float)0.0};

// Define workspace
c_float work_rho_vec[12] = {
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
(c_float)0.04554957610801867200,
};
c_float work_rho_inv_vec[12] = {
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
(c_float)21.95410112332433500000,
};
c_float work_x[8];
c_float work_y[12];
c_float work_z[12];
c_float work_xz_tilde[20];
c_float work_x_prev[8];
c_float work_z_prev[12];
c_float work_Ax[12];
c_float work_Px[8];
c_float work_Aty[8];
c_float work_delta_y[12];
c_float work_Atdelta_y[8];
c_float work_delta_x[8];
c_float work_Pdelta_x[8];
c_float work_Adelta_x[12];
c_float work_D_temp[8];
c_float work_D_temp_A[8];
c_float work_E_temp[12];

OSQPWorkspace workspace = {
&data, (LinSysSolver *)&linsys_solver,
work_rho_vec, work_rho_inv_vec,
work_x, work_y, work_z, work_xz_tilde,
work_x_prev, work_z_prev,
work_Ax, work_Px, work_Aty,
work_delta_y, work_Atdelta_y,
work_delta_x, work_Pdelta_x, work_Adelta_x,
work_D_temp, work_D_temp_A, work_E_temp,
&settings, &scaling, &solution, &info};

